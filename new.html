<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="utf-8">
    <title>The Man Behind the Legend</title>
    <link rel="stylesheet" type="text/css" href="res/custom_addons.css">
    <link rel="stylesheet" type="text/css" href="res/style_fonts.css">
    <link rel="stylesheet" type="text/css" href="res/opensans/stylesheet.css">
    <script type="text/javascript" src="https://code.jquery.com/jquery-1.11.2.min.js"></script>
    <link href='https://fonts.googleapis.com/css?family=Open+Sans' rel='stylesheet' type='text/css'>
    <style>
        html {
            height: 100%;
        }

        body {
            background-color: #000;
            font-size: 16px;
            font-family: "Open sans";
            height: 100%;
            margin: 0;
        }

        h1 {
            color: white;
            font-size: 5.75em;
            margin-top: 34vh;
            margin-bottom: 0;
            text-shadow: 3px 3px 0px rgba(153, 153, 153, 0.8);
        }

        h2 {
            font-weight: 200;
            color: white;
        }

        canvas {
            position: absolute;
            top: 0;
            left: 0;
            z-index: -1;
        }

        section {
            margin-left: 7%;
            height: 66%;
        }

        div {
            /*, #16a085 75%, #16a085 76%, #2ecc71 76%, #8cc732*/
            background: linear-gradient(transparent, #2c3e50 25%, rgb(154, 204, 245) 75%);
            height: 100%;
            color: white;
        }

        nav {
            padding-top: 500px;
            font-size: 1.5em;
            text-align: center;
        }

        nav> a {
            color: white;
            text-decoration: none;
            padding-top: 0.1em;
            padding-left: 0.5em;
            padding-right: 0.5em;
            padding-bottom: 0.2em;
        }

        nav> a:hover {
            background-color: #34495e;
            color: white;
            text-decoration: none;
        }

        nav> span {
            font-weight: 200;
        }

        article {
            background: rgb(154, 204, 245);
            height: 100%;
        }

        .planet {
            margin-top: 66%;
        }
    </style>
</head>

<body onresize="init()">
    <section>
        <h1>ANDREW MELLO</h1>
        <h2>changing text goes here ... </h2>
        <canvas id="myCanvas"></canvas>
    </section>
    <div>
        <nav>
            <span>scroll to:</span>
            <a href="#">about</a>
            <a href="#">projects</a>
            <a href="#">resum√©</a>
            <a href="#">contact</a>
        </nav>
    </div>
    <article>
    </article>
    <script>
        function init() {
            canvas = document.getElementById("myCanvas");
            canvas.width = document.body.clientWidth;
            canvas.height = document.body.clientHeight * 1.2;
        }
        init();
        window.requestAnimFrame = (function(callback) {
            return window.requestAnimationFrame || window.webkitRequestAnimationFrame || window.mozRequestAnimationFrame || window.oRequestAnimationFrame || window.msRequestAnimationFrame ||
                function(callback) {
                    window.setTimeout(callback, 1000 / 60);
                };
        })();

        function drawStar(star, context) {
            var speed = 3 * star.r;
            // pixels / second
            if (star.x < canvas.width && star.y < canvas.height) {
                star.x += speed;
                star.y += speed;
            } else {
                star.x = (Math.random() * 2 * canvas.width) - canvas.width;
                star.y = -1 * 200 * Math.random();
                star.r = 6 * Math.random()
            }
            context.beginPath();
            context.arc(star.x, star.y, star.r, 0, 2 * Math.PI, false);
            context.fillStyle = '#ffffff';
            context.fill();
            context.lineWidth = star.borderWidth;
        }

        function animate(star, canvas, context, startTime) {
            // clear
            context.fillStyle = '#000000';
            context.fillRect(0, 0, canvas.width, canvas.height);
            // update
            for (var i = 0; i < star.length; i++) {
                drawStar(star[i], context);
            }
            context.drawImage(rocketImg, rocket.x, rocket.y, rocket.width, rocket.height);
            rocket.move();
            // request new frame
            requestAnimFrame(function() {
                animate(star, canvas, context, startTime);
            });
        }

        var canvas = document.getElementById('myCanvas');
        var context = canvas.getContext('2d');
        var tagline = ["A man. A plan. Panama.", "A man of measure.", "Bobody. Biznus.", "Hands like a gazelle.", "The golden goose.", "The oracle of time.", "The Great Purveyor.",
            "Buffalo buffalo buffalo buffalo. Buffalo.", "Thinly lather before basking in the sun", "Wash. Rinse. Repeat.", "The milk man.", "7 / 10 would recommend to a friend. 8 of 9 found this review helpful"
        ];

        function createStar() {
            this.x = (Math.random() * 2 * canvas.width) - canvas.width,
                this.y = -1 * 100 * Math.random(),
                this.r = 6 * Math.random()
        };

        var star = [new createStar(), new createStar(), new createStar(), new createStar(),
            new createStar(), new createStar(), new createStar(), new createStar()
        ];

        var rocketImg = new Image();
        rocketImg.src = 'res/rocket_left.png'

        var rocket = {
            x: canvas.width,
            y: canvas.height,
            width: 200,
            height: 201,
            move: function() {
                rocket.x -= Math.random() * 3 - 1;
                rocket.y -= Math.random() * 3 - 1;
                if (!waiting) {
                    waiting = true;
                    setTimeout(function() {
                        rocketImg.src = (rocketImg.src.indexOf('res/rocket_right.png') >= 0) ? 'res/rocket_left.png' : 'res/rocket_right.png';
                        waiting = false;
                    }, 75);
                }
                if (rocket.x + rocket.width < 0 || rocket.y + rocket.height < 0) {
                    rocket.x = Math.random() * canvas.width;
                    rocket.y = canvas.height;
                    var random = Math.random();
                    rocket.width = random * 300;
                    rocket.height = random * 300;
                }
            }
        }

        var waiting = false;

        setTimeout(function() {
            var startTime = (new Date()).getTime();
            animate(star, canvas, context, startTime);
        }, 1000);

        setTimeout(function() {
            changeSubtext = true;
        }, 2500);
    </script>
</body>

</html>
